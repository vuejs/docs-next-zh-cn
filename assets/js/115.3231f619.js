(window.webpackJsonp=window.webpackJsonp||[]).push([[115],{549:function(t,s,e){"use strict";e.r(s);var a=e(46),n=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[t._v("#")]),t._v(" 安装")]),t._v(" "),e("p",[t._v("Vue.js 设计的初衷就包括可以被渐进式地采用。这意味着它可以根据需求以多种方式集成到一个项目中。")]),t._v(" "),e("p",[t._v("将 Vue.js 添加到项目中主要有四种方式：")]),t._v(" "),e("ol",[e("li",[t._v("在页面上以 "),e("a",{attrs:{href:"#cdn"}},[t._v("CDN 包")]),t._v("的形式导入。")]),t._v(" "),e("li",[t._v("下载 JavaScript 文件并"),e("a",{attrs:{href:"#%E4%B8%8B%E8%BD%BD%E5%B9%B6%E8%87%AA%E6%89%98%E7%AE%A1"}},[t._v("自行托管")]),t._v("。")]),t._v(" "),e("li",[t._v("使用 "),e("a",{attrs:{href:"#npm"}},[t._v("npm")]),t._v(" 安装它。")]),t._v(" "),e("li",[t._v("使用官方的 "),e("a",{attrs:{href:"#%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7-cli"}},[t._v("CLI")]),t._v(" 来构建一个项目，它为现代前端工作流程提供了功能齐备的构建设置 (例如，热重载、保存时的提示等等)。")])]),t._v(" "),e("h2",{attrs:{id:"发布版本说明"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#发布版本说明"}},[t._v("#")]),t._v(" 发布版本说明")]),t._v(" "),e("p",[t._v("最新版本："),e("img",{attrs:{src:"https://img.shields.io/npm/v/vue/next.svg",alt:"npm"}})]),t._v(" "),e("p",[t._v("每个版本的详细发布说明都可以在 "),e("a",{attrs:{href:"https://github.com/vuejs/vue-next/blob/master/CHANGELOG.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitHub"),e("OutboundLink")],1),t._v(" 上找到。")]),t._v(" "),e("h2",{attrs:{id:"vue-devtools"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vue-devtools"}},[t._v("#")]),t._v(" Vue Devtools")]),t._v(" "),e("blockquote",[e("p",[t._v("目前处于测试阶段 - Vuex 和 Router 的集成仍在进行中。")])]),t._v(" "),e("VideoLesson",{attrs:{href:"https://vueschool.io/lessons/using-vue-dev-tools-with-vuejs-3?friend=vuejs",title:"在 Vue School 学习如何安装"}},[t._v("通过 Vue School 的免费课程学习如何安装和使用 Vue Devtools")]),t._v(" "),e("p",[t._v("在使用 Vue 时，我们推荐在你的浏览器上安装 "),e("a",{attrs:{href:"https://github.com/vuejs/vue-devtools#vue-devtools",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vue Devtools"),e("OutboundLink")],1),t._v("，它允许你在一个更友好的界面中审查和调试 Vue 应用。")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://chrome.google.com/webstore/detail/vuejs-devtools/ljjemllljcmogpfapbkkighbhhppjdbg",target:"_blank",rel:"noopener noreferrer"}},[t._v("获取 Chrome 扩展程序"),e("OutboundLink")],1)]),t._v(" "),e("p",[e("a",{attrs:{href:"https://addons.mozilla.org/en-US/firefox/addon/vue-js-devtools/",target:"_blank",rel:"noopener noreferrer"}},[t._v("获取 Firefox 附加组件"),e("OutboundLink")],1)]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/vuejs/vue-devtools/blob/dev/packages/shell-electron/README.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("获取独立的 Electron 应用程序"),e("OutboundLink")],1)]),t._v(" "),e("h2",{attrs:{id:"cdn"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cdn"}},[t._v("#")]),t._v(" CDN")]),t._v(" "),e("p",[t._v("对于制作原型或学习，你可以这样使用最新版本：")]),t._v(" "),e("div",{staticClass:"language-html line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-html"}},[e("code",[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("https://unpkg.com/vue@next"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),e("span",{pre:!0,attrs:{class:"token script"}}),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[t._v("对于生产环境，我们推荐链接到一个明确的版本号和构建文件，以避免新版本造成的不可预期的破坏。")]),t._v(" "),e("h2",{attrs:{id:"下载并自托管"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#下载并自托管"}},[t._v("#")]),t._v(" 下载并自托管")]),t._v(" "),e("p",[t._v("如果你想避免使用构建工具，但又无法在生产环境使用 CDN，那么你可以下载相关 "),e("code",[t._v(".js")]),t._v(" 文件并自行托管在你的服务器上。然后你可以通过 "),e("code",[t._v("<script>")]),t._v(" 标签引入，与使用 CDN 的方法类似。")]),t._v(" "),e("p",[t._v("这些文件可以在 "),e("a",{attrs:{href:"https://unpkg.com/browse/vue@next/dist/",target:"_blank",rel:"noopener noreferrer"}},[t._v("unpkg"),e("OutboundLink")],1),t._v(" 或者 "),e("a",{attrs:{href:"https://cdn.jsdelivr.net/npm/vue@next/dist/",target:"_blank",rel:"noopener noreferrer"}},[t._v("jsDelivr"),e("OutboundLink")],1),t._v(" 这些 CDN 上浏览和下载。各种不同文件将在"),e("a",{attrs:{href:"#%E5%AF%B9%E4%B8%8D%E5%90%8C%E6%9E%84%E5%BB%BA%E7%89%88%E6%9C%AC%E7%9A%84%E8%A7%A3%E9%87%8A"}},[t._v("以后解释")]),t._v("，但你通常需要同时下载开发环境构建版本以及生产环境构建版本。")]),t._v(" "),e("h2",{attrs:{id:"npm"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#npm"}},[t._v("#")]),t._v(" npm")]),t._v(" "),e("p",[t._v("在用 Vue 构建大型应用时推荐使用 npm 安装"),e("sup",[e("a",{attrs:{href:"#footnote-1"}},[t._v("[1]")])]),t._v(" 。npm 能很好地和诸如 "),e("a",{attrs:{href:"https://webpack.js.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("webpack"),e("OutboundLink")],1),t._v(" 或 "),e("a",{attrs:{href:"https://rollupjs.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Rollup"),e("OutboundLink")],1),t._v(" 模块打包器配合使用。")]),t._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 最新稳定版")]),t._v("\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" vue@next\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br")])]),e("p",[t._v("Vue 还提供了编写"),e("RouterLink",{attrs:{to:"/guide/single-file-component.html"}},[t._v("单文件组件")]),t._v("的配套工具。如果你想使用单文件组件，那么你还需要安装 "),e("code",[t._v("@vue/compiler-sfc")]),t._v("：")],1),t._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -D @vue/compiler-sfc\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[t._v("如果你是从 Vue 2 过渡而来的，请注意 "),e("code",[t._v("@vue/compiler-sfc")]),t._v(" 替换掉了 "),e("code",[t._v("vue-template-compiler")])]),t._v(" "),e("p",[t._v("除了 "),e("code",[t._v("@vue/compiler-sfc")]),t._v(" 之外，你还需要为已选择的打包工具选择一个配套的单文件组件 loader 或 plugin。更多信息请查阅"),e("RouterLink",{attrs:{to:"/guide/single-file-component.html"}},[t._v("单文件组件文档")]),t._v("。")],1),t._v(" "),e("p",[t._v("大多数情况下，我们更倾向于使用 Vue CLI 来创建一个配置最小化的 webpack 构建版本。")]),t._v(" "),e("h2",{attrs:{id:"命令行工具-cli"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#命令行工具-cli"}},[t._v("#")]),t._v(" 命令行工具 (CLI)")]),t._v(" "),e("p",[t._v("Vue 提供了一个"),e("a",{attrs:{href:"https://cli.vuejs.org/zh/",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方的 CLI"),e("OutboundLink")],1),t._v("，为单页面应用 (SPA) 快速搭建繁杂的脚手架。它为现代前端工作流提供了功能齐备的构建设置。只需要几分钟的时间就可以运行起来并带有热重载、保存时 lint 校验，以及生产环境可用的构建版本。更多详情可查阅 "),e("a",{attrs:{href:"https://cli.vuejs.org/zh/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vue CLI 的文档"),e("OutboundLink")],1),t._v("。")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),e("p",[t._v("CLI 工具假定用户对 Node.js 和相关构建工具有一定程度的了解。如果你是新手，我们强烈建议先在不用构建工具的情况下通读"),e("RouterLink",{attrs:{to:"/guide/introduction.html"}},[t._v("指南")]),t._v("，在熟悉 Vue 本身之后再使用 CLI。")],1)]),t._v(" "),e("p",[t._v("对于 Vue 3，你应该使用 "),e("code",[t._v("npm")]),t._v(" 上可用的 Vue CLI v4.5 作为 "),e("code",[t._v("@vue/cli")]),t._v("。要升级，你应该需要全局重新安装最新版本的 "),e("code",[t._v("@vue/cli")]),t._v("：")]),t._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" global "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" @vue/cli\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 或")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -g @vue/cli\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br")])]),e("p",[t._v("然后在 Vue 项目中运行：")]),t._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("vue upgrade --next\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("h2",{attrs:{id:"vite"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vite"}},[t._v("#")]),t._v(" Vite")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://cn.vitejs.dev/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vite"),e("OutboundLink")],1),t._v(" 是一个 web 开发构建工具，由于其原生 ES 模块导入方式，可以实现闪电般的冷服务器启动。")]),t._v(" "),e("p",[t._v("通过在终端中运行以下命令，可以使用 Vite 快速构建 Vue 项目。")]),t._v(" "),e("p",[t._v("使用 npm：")]),t._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# npm 6.x")]),t._v("\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" init vite@latest "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("project-name"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" --template vue\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# npm 7+，需要加上额外的双短横线")]),t._v("\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" init vite@latest "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("project-name"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" -- --template vue\n\n$ "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("project-name"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run dev\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br")])]),e("p",[t._v("或者 yarn：")]),t._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" create vite "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("project-name"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" --template vue\n$ "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("project-name"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v("\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" dev\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br")])]),e("p",[t._v("或者 pnpm:")]),t._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("pnpm")]),t._v(" create vite "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("project-name"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" -- --template vue\n$ "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("project-name"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("pnpm")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("pnpm")]),t._v(" dev\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br")])]),e("h2",{attrs:{id:"对不同构建版本的解释"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#对不同构建版本的解释"}},[t._v("#")]),t._v(" 对不同构建版本的解释")]),t._v(" "),e("p",[t._v("在 "),e("a",{attrs:{href:"https://cdn.jsdelivr.net/npm/vue@3.0.2/dist/",target:"_blank",rel:"noopener noreferrer"}},[t._v("npm 包的 dist/ 目录"),e("OutboundLink")],1),t._v("你将会找到很多不同的 Vue.js 构建版本。下面是一个概述，根据不同的使用情况，应该使用哪个 "),e("code",[t._v("dist")]),t._v(" 文件：")]),t._v(" "),e("h3",{attrs:{id:"使用-cdn-或没有构建工具"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用-cdn-或没有构建工具"}},[t._v("#")]),t._v(" 使用 CDN 或没有构建工具")]),t._v(" "),e("h4",{attrs:{id:"vue-runtime-global-prod-js"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vue-runtime-global-prod-js"}},[t._v("#")]),t._v(" "),e("code",[t._v("vue(.runtime).global(.prod).js")]),t._v("：")]),t._v(" "),e("ul",[e("li",[t._v("若要通过浏览器中的 "),e("code",[t._v('<script src="...">')]),t._v(" 直接使用，则暴露 Vue 全局。")]),t._v(" "),e("li",[t._v("浏览器内模板编译：\n"),e("ul",[e("li",[e("code",[t._v("vue.global.js")]),t._v(" 是包含编译器和运行时的“完整”构建版本，因此它支持动态编译模板。")]),t._v(" "),e("li",[e("code",[t._v("vue.runtime.global.js")]),t._v(" 只包含运行时，并且需要在构建步骤期间预编译模板。")])])]),t._v(" "),e("li",[t._v("内联所有 Vue 核心内部包——即：它是一个单独的文件，不依赖于其他文件。这意味着你必须导入此文件和此文件中的所有内容，以确保获得相同的代码实例。")]),t._v(" "),e("li",[t._v("包含硬编码的 prod/dev 分支，并且 prod 构建版本是预先压缩过的。将 "),e("code",[t._v("*.prod.js")]),t._v(" 文件用于生产环境。")])]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),e("p",[t._v("全局打包不是 "),e("a",{attrs:{href:"https://github.com/umdjs/umd",target:"_blank",rel:"noopener noreferrer"}},[t._v("UMD"),e("OutboundLink")],1),t._v(" 构建的，它们被打包成 "),e("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Glossary/IIFE",target:"_blank",rel:"noopener noreferrer"}},[t._v("IIFEs"),e("OutboundLink")],1),t._v("，并且仅用于通过 "),e("code",[t._v('<script src="...">')]),t._v(" 直接使用。")])]),t._v(" "),e("h4",{attrs:{id:"vue-runtime-esm-browser-prod-js"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vue-runtime-esm-browser-prod-js"}},[t._v("#")]),t._v(" "),e("code",[t._v("vue(.runtime).esm-browser(.prod).js")]),t._v("：")]),t._v(" "),e("ul",[e("li",[t._v("用于通过原生 ES 模块导入使用 (在浏览器中通过 "),e("code",[t._v('<script type="module">')]),t._v(" 来使用)。")]),t._v(" "),e("li",[t._v("与全局构建版本共享相同的运行时编译、依赖内联和硬编码的 prod/dev 行为。")])]),t._v(" "),e("h3",{attrs:{id:"使用构建工具"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用构建工具"}},[t._v("#")]),t._v(" 使用构建工具")]),t._v(" "),e("h4",{attrs:{id:"vue-runtime-esm-bundler-js"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vue-runtime-esm-bundler-js"}},[t._v("#")]),t._v(" "),e("code",[t._v("vue(.runtime).esm-bundler.js")]),t._v("：")]),t._v(" "),e("ul",[e("li",[t._v("用于 "),e("code",[t._v("webpack")]),t._v("，"),e("code",[t._v("rollup")]),t._v(" 和 "),e("code",[t._v("parcel")]),t._v(" 等构建工具。")]),t._v(" "),e("li",[t._v("留下 prod/dev 分支的 "),e("code",[t._v("process.env.NODE_ENV")]),t._v(" 守卫语句 (必须由构建工具替换)。")]),t._v(" "),e("li",[t._v("不提供压缩版本 (打包后与其余代码一起压缩)。")]),t._v(" "),e("li",[t._v("import 依赖 (例如："),e("code",[t._v("@vue/runtime-core")]),t._v("，"),e("code",[t._v("@vue/runtime-compiler")]),t._v(")\n"),e("ul",[e("li",[t._v("导入的依赖项也是 esm bundler 构建版本，并将依次导入其依赖项 (例如：@vue/runtime-core imports @vue/reactivity)。")]),t._v(" "),e("li",[t._v("这意味着你"),e("strong",[t._v("可以")]),t._v("单独安装/导入这些依赖，而不会导致这些依赖项的不同实例，但你必须确保它们都为同一版本。")])])]),t._v(" "),e("li",[t._v("浏览器内模板编译：\n"),e("ul",[e("li",[e("code",[t._v("vue.runtime.esm-bundler.js")]),t._v(" "),e("strong",[t._v("(默认)")]),t._v(" 仅运行时，并要求所有模板都要预先编译。这是构建工具的默认入口 (通过 "),e("code",[t._v("package.json")]),t._v(" 中的 module 字段)，因为在使用构建工具时，模板通常是预先编译的 (例如：在 "),e("code",[t._v("*.vue")]),t._v(" 文件中)。")]),t._v(" "),e("li",[e("code",[t._v("vue.esm-bundler.js")]),t._v(" 包含运行时编译器。如果你使用了一个构建工具，但仍然想要运行时的模板编译 (例如，DOM 内 模板或通过内联 JavaScript 字符串的模板)，请使用这个文件。你需要配置你的构建工具，将 vue 设置为这个文件。")])])])]),t._v(" "),e("h3",{attrs:{id:"对于服务端渲染"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#对于服务端渲染"}},[t._v("#")]),t._v(" 对于服务端渲染")]),t._v(" "),e("h4",{attrs:{id:"vue-cjs-prod-js"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vue-cjs-prod-js"}},[t._v("#")]),t._v(" "),e("code",[t._v("vue.cjs(.prod).js")]),t._v("：")]),t._v(" "),e("ul",[e("li",[t._v("通过 "),e("code",[t._v("require()")]),t._v(" 在 Node.js 服务器端渲染使用。")]),t._v(" "),e("li",[t._v("如果你将应用程序与带有 "),e("code",[t._v("target: 'node'")]),t._v(" 的 webpack 打包在一起，并正确地将 "),e("code",[t._v("vue")]),t._v(" 外部化，则将加载此文件。")]),t._v(" "),e("li",[t._v("dev/prod 文件是预构建的，但是会根据 "),e("code",[t._v("process.env.NODE_ENV")]),t._v(" 自动加载相应的文件。")])]),t._v(" "),e("h2",{attrs:{id:"运行时-编译器-vs-仅运行时"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#运行时-编译器-vs-仅运行时"}},[t._v("#")]),t._v(" 运行时 + 编译器 vs. 仅运行时")]),t._v(" "),e("p",[t._v("如果需要在客户端上编译模板 (即：将字符串传递给 template 选项，或者使用元素的 DOM 内 HTML 作为模板挂载到元素)，你将需要编译器，因此需要完整的构建版本：")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 需要编译器")]),t._v("\nVue"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("createApp")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("template")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'"),e("span",{pre:!0,attrs:{class:"language-html"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),e("span",{pre:!0,attrs:{class:"token interpolation"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{{")]),e("span",{pre:!0,attrs:{class:"token inline-js language-js"}},[t._v(" hi ")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}}")])]),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])])]),t._v("'")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 不需要")]),t._v("\nVue"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("createApp")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" Vue"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("h")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'div'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hi"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br")])]),e("p",[t._v("当使用 "),e("code",[t._v("vue-loader")]),t._v(" 时，"),e("code",[t._v("*.vue")]),t._v(" 文件中的模板会在构建时预编译为 JavaScript，在最终的捆绑包中并不需要编译器，因此可以只使用运行时构建版本。")]),t._v(" "),e("p",[e("small",[e("strong",[t._v("译者注")]),e("br"),t._v(" "),e("a",{attrs:{id:"footnote-1"}}),t._v("[1] 对于中国大陆用户，建议将 NPM 源设置为"),e("a",{attrs:{href:"https://npmmirror.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("国内的镜像"),e("OutboundLink")],1),t._v("，可以大幅提升安装速度。")])])],1)}),[],!1,null,null,null);s.default=n.exports}}]);