(window.webpackJsonp=window.webpackJsonp||[]).push([[139],{573:function(t,e,s){"use strict";s.r(e);var a=s(46),r=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"用于迁移的构建版本"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#用于迁移的构建版本"}},[t._v("#")]),t._v(" 用于迁移的构建版本")]),t._v(" "),s("h2",{attrs:{id:"概述"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[t._v("#")]),t._v(" 概述")]),t._v(" "),s("p",[s("code",[t._v("@vue/compat")]),t._v(" (即“迁移构建版本”) 是一个 Vue 3 的构建版本，提供了可配置的兼容 Vue 2 的行为。")]),t._v(" "),s("p",[t._v("该构建版本默认运行在 Vue 2 的模式下——大部分公有 API 的行为和 Vue 2 一致，仅有一小部分例外。使用在 Vue 3 中发生改变或被废弃的特性时会抛出运行时警告。一个特性的兼容性也可以基于单个组件进行开启或禁用。")]),t._v(" "),s("h3",{attrs:{id:"预期用例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#预期用例"}},[t._v("#")]),t._v(" 预期用例")]),t._v(" "),s("ul",[s("li",[t._v("将一个 Vue 2 应用升级为 Vue 3 (存在"),s("a",{attrs:{href:"#%E5%B7%B2%E7%9F%A5%E7%9A%84%E9%99%90%E5%88%B6"}},[t._v("限制")]),t._v(")")]),t._v(" "),s("li",[t._v("迁移一个库以支持 Vue 3")]),t._v(" "),s("li",[t._v("对于尚未尝试 Vue 3 的资深 Vue 2 开发者来说，迁移构建版本可以用来代替 Vue 3 以更好地学习版本之间的差异。")])]),t._v(" "),s("h3",{attrs:{id:"已知的限制"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#已知的限制"}},[t._v("#")]),t._v(" 已知的限制")]),t._v(" "),s("p",[t._v("虽然我们已经努力使迁移构建版本尽可能地模拟 Vue 2 的行为，但仍有一些限制可能会阻止应用的顺利升级：")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("基于 Vue 2 内部 API 或文档中未记载行为的依赖。最常见的情况就是使用 "),s("code",[t._v("VNodes")]),t._v(" 上的私有 property。如果你的项目依赖诸如 "),s("a",{attrs:{href:"https://vuetifyjs.com/zh-Hans/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vuetify"),s("OutboundLink")],1),t._v("、"),s("a",{attrs:{href:"https://quasar.dev/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Quasar"),s("OutboundLink")],1),t._v(" 或 "),s("a",{attrs:{href:"https://element.eleme.io/#/zh-CN",target:"_blank",rel:"noopener noreferrer"}},[t._v("Element UI"),s("OutboundLink")],1),t._v(" 等组件库，那么最好等待一下它们的 Vue 3 兼容版本。")])]),t._v(" "),s("li",[s("p",[t._v("对 IE11 的支持："),s("a",{attrs:{href:"https://github.com/vuejs/rfcs/blob/master/active-rfcs/0038-vue3-ie11-support.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vue 3 已经官方放弃对 IE11 的支持"),s("OutboundLink")],1),t._v("。如果仍然需要支持 IE11 或更低版本，那你仍需继续使用 Vue 2。")])]),t._v(" "),s("li",[s("p",[t._v("服务端渲染：该迁移构建版本可以被用于服务端渲染，但是迁移一个自定义的服务端渲染配置还有很多工作要做。大致的思路是将 "),s("code",[t._v("vue-server-renderer")]),t._v(" 替换为 "),s("a",{attrs:{href:"https://github.com/vuejs/vue-next/tree/master/packages/server-renderer",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("@vue/server-renderer")]),s("OutboundLink")],1),t._v("。Vue 3 不再提供一个包渲染器，且我们推荐使用 "),s("a",{attrs:{href:"https://cn.vitejs.dev/guide/ssr.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vite"),s("OutboundLink")],1),t._v(" 以支持 Vue 3 服务端渲染。如果你正在使用 "),s("a",{attrs:{href:"https://zh.nuxtjs.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Nuxt.js"),s("OutboundLink")],1),t._v("，可以尝试 "),s("a",{attrs:{href:"https://v3.nuxtjs.org/getting-started/bridge/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Nuxt Bridge，一个 Nuxt.js 2 到 3 的兼容层"),s("OutboundLink")],1),t._v("。对于复杂、生产环境的项目来说，可能最好还是等待一下 "),s("a",{attrs:{href:"https://v3.nuxtjs.org/getting-started/introduction",target:"_blank",rel:"noopener noreferrer"}},[t._v("Nuxt 3 (目前处于 beta 阶段)"),s("OutboundLink")],1),t._v("。")])])]),t._v(" "),s("h3",{attrs:{id:"预期"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#预期"}},[t._v("#")]),t._v(" 预期")]),t._v(" "),s("p",[t._v("请注意迁移构建版本旨在覆盖在文档中公开记载的 Vue 2 API 和行为。如果应用依赖了未记载的行为导致在迁移构建下运行失败，我们可能不太会调整迁移构建版本以迎合这种特殊情况。请考虑重构或移除导致这些问题行为的依赖。")]),t._v(" "),s("p",[t._v("多留意一下：如果你的应用较大且复杂，即便有了迁移构建版本，整个迁移过程也会是一个挑战。如果你的应用不幸无法顺利升级，请留意我们正在计划将组合式 API 等其它 Vue 3 特性迁移回 Vue 2.7 (预计在 2021 年第三季度末)。")]),t._v(" "),s("p",[t._v("如果应用在迁移构建版本中顺利运行，你"),s("strong",[t._v("可以")]),t._v("在迁移完成之前将其发布到生产环境。尽管存在一些小的性能或包大小的问题，但应该不会显著地影响到生产环境的用户体验。当你有基于 Vue 2 行为的依赖且无法升级/替换时，可能不得不这样做。")]),t._v(" "),s("p",[t._v("该迁移构建版本会从 3.1 开始提供，且会随着 3.2 的发布计划进行持续发布。我们计划在将来某个小版本号起最终停止发布迁移构建版本 (在 2021 年底前至少不会)，因此你仍需要在此之前将其迁移到标准构建版本。")]),t._v(" "),s("h2",{attrs:{id:"升级流程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#升级流程"}},[t._v("#")]),t._v(" 升级流程")]),t._v(" "),s("p",[t._v("下面的工作流程讲述了将一个实际的 Vue 2 应用 (Vue HackerNews 2.0) 迁移到 Vue 3 的过程。完整的提交记录在"),s("a",{attrs:{href:"https://github.com/vuejs/vue-hackernews-2.0/compare/migration",target:"_blank",rel:"noopener noreferrer"}},[t._v("这里"),s("OutboundLink")],1),t._v("。请注意，你的项目所需要的实际步骤可能有所不同。下面的步骤仅应被视为一般性的指南，而非严格的教程。")]),t._v(" "),s("h3",{attrs:{id:"准备工作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#准备工作"}},[t._v("#")]),t._v(" 准备工作")]),t._v(" "),s("ul",[s("li",[t._v("如果你仍然使用"),s("a",{attrs:{href:"https://cn.vuejs.org/v2/guide/components-slots.html#%E5%BA%9F%E5%BC%83%E4%BA%86%E7%9A%84%E8%AF%AD%E6%B3%95",target:"_blank",rel:"noopener noreferrer"}},[t._v("废弃的具名/作用域插槽语法"),s("OutboundLink")],1),t._v("，请先将其更新至 (2.6 已经支持的) 最新的语法。")])]),t._v(" "),s("h3",{attrs:{id:"安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[t._v("#")]),t._v(" 安装")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("尽可能升级工具。")]),t._v(" "),s("ul",[s("li",[t._v("如果使用了自定义的 webpack 设置：将 "),s("code",[t._v("vue-loader")]),t._v(" 升级至 "),s("code",[t._v("^16.0.0")]),t._v("。")]),t._v(" "),s("li",[t._v("如果使用了 "),s("code",[t._v("vue-cli")]),t._v("：通过 "),s("code",[t._v("vue upgrade")]),t._v(" 升级到最新的 "),s("code",[t._v("@vue/cli-service")]),t._v("。")]),t._v(" "),s("li",[t._v("(替代方案) 迁移至 "),s("a",{attrs:{href:"https://cn.vitejs.dev/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vite"),s("OutboundLink")],1),t._v(" + "),s("a",{attrs:{href:"https://github.com/underfin/vite-plugin-vue2",target:"_blank",rel:"noopener noreferrer"}},[t._v("vite-plugin-vue2"),s("OutboundLink")],1),t._v("。["),s("a",{attrs:{href:"https://github.com/vuejs/vue-hackernews-2.0/commit/565b948919eb58f22a32afca7e321b490cb3b074",target:"_blank",rel:"noopener noreferrer"}},[t._v("示例提交"),s("OutboundLink")],1),t._v("]")])])]),t._v(" "),s("li",[s("p",[t._v("在 "),s("code",[t._v("package.json")]),t._v(" 里，将 "),s("code",[t._v("vue")]),t._v(" 更新到 3.1，安装相同版本的 "),s("code",[t._v("@vue/compat")]),t._v("。且如果存在 "),s("code",[t._v("vue-template-compiler")]),t._v(" 的话，将其替换为 "),s("code",[t._v("@vue/compiler-sfc")]),t._v("。")]),t._v(" "),s("div",{staticClass:"language-diff line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-diff"}},[s("code",[t._v('"dependencies": {\n'),s("span",{pre:!0,attrs:{class:"token deleted-sign deleted"}},[s("span",{pre:!0,attrs:{class:"token prefix deleted"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token line"}},[t._v('  "vue": "^2.6.12",\n')])]),s("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[s("span",{pre:!0,attrs:{class:"token prefix inserted"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token line"}},[t._v('  "vue": "^3.1.0",\n')]),s("span",{pre:!0,attrs:{class:"token prefix inserted"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token line"}},[t._v('  "@vue/compat": "^3.1.0"\n')])]),s("span",{pre:!0,attrs:{class:"token unchanged"}},[s("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[t._v(" ")]),s("span",{pre:!0,attrs:{class:"token line"}},[t._v("  ...\n")])]),t._v('},\n"devDependencies": {\n'),s("span",{pre:!0,attrs:{class:"token deleted-sign deleted"}},[s("span",{pre:!0,attrs:{class:"token prefix deleted"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token line"}},[t._v('  "vue-template-compiler": "^2.6.12"\n')])]),s("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[s("span",{pre:!0,attrs:{class:"token prefix inserted"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token line"}},[t._v('  "@vue/compiler-sfc": "^3.1.0"\n')])]),t._v("}\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br")])]),s("p",[s("a",{attrs:{href:"https://github.com/vuejs/vue-hackernews-2.0/commit/14f6f1879b43f8610add60342661bf915f5c4b20",target:"_blank",rel:"noopener noreferrer"}},[t._v("示例提交"),s("OutboundLink")],1)])]),t._v(" "),s("li",[s("p",[t._v("在构建设置中，为 "),s("code",[t._v("vue")]),t._v(" 设置别名 "),s("code",[t._v("@vue/compat")]),t._v("，且通过 Vue 编译器选项开启兼容模式。")]),t._v(" "),s("p",[s("strong",[t._v("示例配置")])]),t._v(" "),s("details",[s("summary",[s("b",[t._v("vue-cli")])]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// vue.config.js")]),t._v("\nmodule"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("chainWebpack")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("config")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    config"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("resolve"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("alias"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vue'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@vue/compat'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    config"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("module\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rule")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vue'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vue-loader'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("tap")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("options")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("options"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("compilerOptions")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("compatConfig")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("MODE")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br")])])]),t._v(" "),s("details",[s("summary",[s("b",[t._v("普通 webpack")])]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// webpack.config.js")]),t._v("\nmodule"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("resolve")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("alias")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("vue")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@vue/compat'")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("module")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("rules")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("test")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token regex"}},[s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("\\.vue$")]),s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("loader")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vue-loader'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("options")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("compilerOptions")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("compatConfig")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("MODE")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br")])])]),t._v(" "),s("details",[s("summary",[s("b",[t._v("Vite")])]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// vite.config.js")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("resolve")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("alias")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("vue")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@vue/compat'")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("plugins")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("vue")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("template")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("compilerOptions")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("compatConfig")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("MODE")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br")])])])]),t._v(" "),s("li",[s("p",[t._v("如果使用了 TypeScript，你还需要修改 "),s("code",[t._v("vue")]),t._v(" 的类型，通过添加一个 "),s("code",[t._v("*.d.ts")]),t._v(" 暴露其 (在 Vue 3 中已经不再展示) 默认导出。")]),t._v(" "),s("div",{staticClass:"language-ts line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-ts"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("declare")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("module")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vue'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" CompatVue "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@vue/runtime-dom'")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" Vue"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" CompatVue\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" Vue\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@vue/runtime-dom'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])])]),t._v(" "),s("li",[s("p",[t._v("在此，你的应用可能会遇到一些编译时的错误/警告 (例如对过滤器的使用)，请先修复这些错误。直至所有的编译警告都消失，当然，你也可以把编译器设置为 Vue 3 模式。")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/vuejs/vue-hackernews-2.0/commit/b05d9555f6e115dea7016d7e5a1a80e8f825be52",target:"_blank",rel:"noopener noreferrer"}},[t._v("示例提交"),s("OutboundLink")],1)])]),t._v(" "),s("li",[s("p",[t._v("在修复了这些错误之后，如果没有受制于上述的"),s("a",{attrs:{href:"#%E5%B7%B2%E7%9F%A5%E7%9A%84%E9%99%90%E5%88%B6"}},[t._v("限制")]),t._v("，那么应用就应该可以运行了。")]),t._v(" "),s("p",[t._v("你可能会同时从命令行和浏览器控制台看到很多警告。这里提供一些一般化的小建议：")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("你可以在浏览器控制台里过滤特定的警告。建议通过使用过滤器，使自己每次专注修复同一种问题。你也可以使用类似 "),s("code",[t._v("-GLOBAL_MOUNT")]),t._v(" 的否定式过滤器。")])]),t._v(" "),s("li",[s("p",[t._v("你可以通过"),s("a",{attrs:{href:"#%E5%85%BC%E5%AE%B9%E6%80%A7%E9%85%8D%E7%BD%AE"}},[t._v("兼容性配置")]),t._v("关闭对特定的废弃内容的处理。")])]),t._v(" "),s("li",[s("p",[t._v("有些警告可能来自你使用的依赖 (如 "),s("code",[t._v("vue-router")]),t._v(")。你可以通过警告的组件嵌套或调用栈的追踪信息 (可以点击展开) 来进行检查。可以优先专注于修复源自你自己代码的警告。")])]),t._v(" "),s("li",[s("p",[t._v("如果你使用了 "),s("code",[t._v("vue-router")]),t._v("，请注意在升级至 "),s("code",[t._v("vue-router")]),t._v(" v4 之前，"),s("code",[t._v("<transition>")]),t._v(" 和 "),s("code",[t._v("<keep-alive>")]),t._v(" 无法和 "),s("code",[t._v("<router-view>")]),t._v(" 一起工作。")])])])]),t._v(" "),s("li",[s("p",[t._v("升级 "),s("RouterLink",{attrs:{to:"/guide/migration/transition.html"}},[s("code",[t._v("<transition>")]),t._v(" 类名")]),t._v("。这是唯一没有运行时警告的特性。你可以在整个项目范围内做一次 "),s("code",[t._v(".*-enter")]),t._v(" 和 "),s("code",[t._v(".*-leave")]),t._v(" CSS 类名的搜索。")],1),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/vuejs/vue-hackernews-2.0/commit/d300103ba622ae26ac26a82cd688e0f70b6c1d8f",target:"_blank",rel:"noopener noreferrer"}},[t._v("示例提交"),s("OutboundLink")],1)])]),t._v(" "),s("li",[s("p",[t._v("更新应用的入口以使用"),s("a",{attrs:{href:"https://v3.cn.vuejs.org/guide/migration/global-api.html#%E4%B8%80%E4%B8%AA%E6%96%B0%E7%9A%84%E5%85%A8%E5%B1%80-api-createapp",target:"_blank",rel:"noopener noreferrer"}},[t._v("新的全局挂载 API"),s("OutboundLink")],1),t._v("。")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/vuejs/vue-hackernews-2.0/commit/a6e0c9ac7b1f4131908a4b1e43641f608593f714",target:"_blank",rel:"noopener noreferrer"}},[t._v("示例提交"),s("OutboundLink")],1)])]),t._v(" "),s("li",[s("p",[s("a",{attrs:{href:"https://next.vuex.vuejs.org/zh/guide/migrating-to-4-0-from-3-x.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("将 "),s("code",[t._v("vuex")]),t._v(" 升级至 v4"),s("OutboundLink")],1),t._v("。")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/vuejs/vue-hackernews-2.0/commit/5bfd4c61ee50f358cd5daebaa584f2c3f91e0205",target:"_blank",rel:"noopener noreferrer"}},[t._v("示例提交"),s("OutboundLink")],1)])]),t._v(" "),s("li",[s("p",[s("a",{attrs:{href:"https://next.router.vuejs.org/zh/guide/migration/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("将 "),s("code",[t._v("vue-router")]),t._v(" 升级至 v4"),s("OutboundLink")],1),t._v("。如果你还使用了 "),s("code",[t._v("vuex-router-sync")]),t._v("，可以同时将其替换为一个 store getter。")]),t._v(" "),s("p",[t._v("升级过后，同 "),s("code",[t._v("<router-view>")]),t._v(" 一起使用 "),s("code",[t._v("<transition>")]),t._v(" 和 "),s("code",[t._v("<keep-alive>")]),t._v(" 就要求使用新的"),s("a",{attrs:{href:"https://next.router.vuejs.org/zh/guide/migration/index.html#router-view-%E3%80%81-keep-alive-%E5%92%8C-transition",target:"_blank",rel:"noopener noreferrer"}},[t._v("基于作用域插槽的语法"),s("OutboundLink")],1),t._v("。")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/vuejs/vue-hackernews-2.0/commit/758961e73ac4089890079d4ce14996741cf9344b",target:"_blank",rel:"noopener noreferrer"}},[t._v("示例提交"),s("OutboundLink")],1)])]),t._v(" "),s("li",[s("p",[t._v("逐个修复警告。注意有些特性在 Vue 2 和 Vue 3 之间存在行为冲突——例如渲染函数 API，或函数式组件 vs. 异步组件的改变。为了迁移到 Vue 3 API 而不影响到应用的其它部分，你可以通过 "),s("a",{attrs:{href:"#%E5%9F%BA%E4%BA%8E%E5%8D%95%E4%B8%AA%E7%BB%84%E4%BB%B6%E7%9A%84%E9%85%8D%E7%BD%AE"}},[s("code",[t._v("compatConfig")]),t._v(" 选项")]),t._v("对单个组件选择性启用 Vue 3 的行为。")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/vuejs/vue-hackernews-2.0/commit/d0c7d3ae789be71b8fd56ce79cb4cb1f921f893b",target:"_blank",rel:"noopener noreferrer"}},[t._v("示例提交"),s("OutboundLink")],1)])]),t._v(" "),s("li",[s("p",[t._v("当修复了所有警告以后，你就可以移除迁移构建版本并切换为 Vue 3。注意如果存在基于 Vue 2 行为的依赖，你可能无法做到这一点。")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/vuejs/vue-hackernews-2.0/commit/9beb45490bc5f938c9e87b4ac1357cfb799565bd",target:"_blank",rel:"noopener noreferrer"}},[t._v("示例提交"),s("OutboundLink")],1)])])]),t._v(" "),s("h2",{attrs:{id:"兼容性配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#兼容性配置"}},[t._v("#")]),t._v(" 兼容性配置")]),t._v(" "),s("h3",{attrs:{id:"全局配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#全局配置"}},[t._v("#")]),t._v(" 全局配置")]),t._v(" "),s("p",[t._v("兼容性特性可以进行单独禁用：")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" configureCompat "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vue'")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 禁用某些兼容性特性")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("configureCompat")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("FEATURE_ID_A")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("FEATURE_ID_B")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br")])]),s("p",[t._v("或者整个应用默认为 Vue 3 的行为，仅开启某些兼容性特性：")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" configureCompat "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vue'")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 所有 Vue 3 的默认行为，并开启某些兼容性特性")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("configureCompat")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("MODE")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("FEATURE_ID_A")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("FEATURE_ID_B")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])]),s("h3",{attrs:{id:"基于单个组件的配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#基于单个组件的配置"}},[t._v("#")]),t._v(" 基于单个组件的配置")]),t._v(" "),s("p",[t._v("一个组件可以使用 "),s("code",[t._v("compatConfig")]),t._v(" 选项，并支持与全局 "),s("code",[t._v("configureCompat")]),t._v(" 方法相同的选项：")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("compatConfig")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("MODE")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 只为这个组件选择性启用 Vue 3 行为")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("FEATURE_ID_A")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 也可以在组件级别开启某些特性")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br")])]),s("h3",{attrs:{id:"针对编译器的配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#针对编译器的配置"}},[t._v("#")]),t._v(" 针对编译器的配置")]),t._v(" "),s("p",[t._v("以 "),s("code",[t._v("COMPILER_")]),t._v(" 开头的特性是针对编译器的：如果你正在使用完整构建版本 (含浏览器内编译器)，它们可以在运行时中被配置。然而如果使用构建设置，它们必须换为通过在构建配置中的 "),s("code",[t._v("compilerOptions")]),t._v(" 进行配置 (参阅上述的配置)。")]),t._v(" "),s("h2",{attrs:{id:"特性参考"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#特性参考"}},[t._v("#")]),t._v(" 特性参考")]),t._v(" "),s("h3",{attrs:{id:"兼容性类型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#兼容性类型"}},[t._v("#")]),t._v(" 兼容性类型")]),t._v(" "),s("ul",[s("li",[t._v("✔ 完全兼容")]),t._v(" "),s("li",[t._v("◐ 部分兼容且附带注意事项")]),t._v(" "),s("li",[t._v("⨂ 不兼容 (只有警告)")]),t._v(" "),s("li",[t._v("⭘ 仅兼容 (没有警告)")])]),t._v(" "),s("h3",{attrs:{id:"不兼容"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#不兼容"}},[t._v("#")]),t._v(" 不兼容")]),t._v(" "),s("blockquote",[s("p",[t._v("应该被修复，否则很可能会导致错误")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("ID")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("描述")]),t._v(" "),s("th",[t._v("文档")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("GLOBAL_MOUNT_CONTAINER")]),t._v(" "),s("td",[t._v("⨂")]),t._v(" "),s("td",[t._v("被挂载的应用不会替换被挂载到的元素")]),t._v(" "),s("td",[s("RouterLink",{attrs:{to:"/guide/migration/mount-changes.html"}},[t._v("链接")])],1)]),t._v(" "),s("tr",[s("td",[t._v("CONFIG_DEVTOOLS")]),t._v(" "),s("td",[t._v("⨂")]),t._v(" "),s("td",[t._v("生产环境开发者工具现在是一个构建时的开关")]),t._v(" "),s("td",[s("a",{attrs:{href:"https://github.com/vuejs/vue-next/tree/master/packages/vue#bundler-build-feature-flags",target:"_blank",rel:"noopener noreferrer"}},[t._v("链接"),s("OutboundLink")],1)])]),t._v(" "),s("tr",[s("td",[t._v("COMPILER_V_IF_V_FOR_PRECEDENCE")]),t._v(" "),s("td",[t._v("⨂")]),t._v(" "),s("td",[s("code",[t._v("v-if")]),t._v(" 和 "),s("code",[t._v("v-for")]),t._v(" 用在相同的元素上时的处理顺序发生了改变")]),t._v(" "),s("td",[s("RouterLink",{attrs:{to:"/guide/migration/v-if-v-for.html"}},[t._v("链接")])],1)]),t._v(" "),s("tr",[s("td",[t._v("COMPILER_V_IF_SAME_KEY")]),t._v(" "),s("td",[t._v("⨂")]),t._v(" "),s("td",[s("code",[t._v("v-if")]),t._v(" 分支不能再拥有相同的 key")]),t._v(" "),s("td",[s("RouterLink",{attrs:{to:"/guide/migration/key-attribute.html#on-conditional-branches"}},[t._v("链接")])],1)]),t._v(" "),s("tr",[s("td",[t._v("COMPILER_V_FOR_TEMPLATE_KEY_PLACEMENT")]),t._v(" "),s("td",[t._v("⨂")]),t._v(" "),s("td",[s("code",[t._v("<template v-for>")]),t._v(" key 现在应该被放在 "),s("code",[t._v("<template>")]),t._v(" 上")]),t._v(" "),s("td",[s("RouterLink",{attrs:{to:"/guide/migration/key-attribute.html#with-template-v-for"}},[t._v("链接")])],1)]),t._v(" "),s("tr",[s("td",[t._v("COMPILER_SFC_FUNCTIONAL")]),t._v(" "),s("td",[t._v("⨂")]),t._v(" "),s("td",[t._v("单文件组件中不再支持 "),s("code",[t._v("<template functional>")])]),t._v(" "),s("td",[s("RouterLink",{attrs:{to:"/guide/migration/functional-components.html#single-file-components-sfcs"}},[t._v("链接")])],1)])])]),t._v(" "),s("h3",{attrs:{id:"部分兼容且附带注意事项"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#部分兼容且附带注意事项"}},[t._v("#")]),t._v(" 部分兼容且附带注意事项")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("ID")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("描述")]),t._v(" "),s("th",[t._v("文档")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("CONFIG_IGNORED_ELEMENTS")]),t._v(" "),s("td",[t._v("◐")]),t._v(" "),s("td",[s("code",[t._v("config.ignoredElements")]),t._v(" 现在改为了 "),s("code",[t._v("config.compilerOptions.isCustomElement")]),t._v(" (只在浏览器编译器构建版本中)。如果使用了构建设置，"),s("code",[t._v("isCustomElement")]),t._v(" 必须通过构建配置传入。")]),t._v(" "),s("td",[s("RouterLink",{attrs:{to:"/guide/migration/global-api.html#config-ignoredelements-替换为-config-iscustomelement"}},[t._v("链接")])],1)]),t._v(" "),s("tr",[s("td",[t._v("COMPILER_INLINE_TEMPLATE")]),t._v(" "),s("td",[t._v("◐")]),t._v(" "),s("td",[s("code",[t._v("inline-template")]),t._v(" 被移除 (兼容模式只在浏览器编译器构建版本中支持)")]),t._v(" "),s("td",[s("RouterLink",{attrs:{to:"/guide/migration/inline-template-attribute.html"}},[t._v("链接")])],1)]),t._v(" "),s("tr",[s("td",[t._v("PROPS_DEFAULT_THIS")]),t._v(" "),s("td",[t._v("◐")]),t._v(" "),s("td",[t._v("prop 的默认工厂方法不再可以访问 "),s("code",[t._v("this")]),t._v(" (在兼容模式下，"),s("code",[t._v("this")]),t._v(" 不是一个真实的实例——它只暴露 prop、"),s("code",[t._v("$options")]),t._v(" 和注入)")]),t._v(" "),s("td",[s("RouterLink",{attrs:{to:"/guide/migration/props-default-this.html"}},[t._v("链接")])],1)]),t._v(" "),s("tr",[s("td",[t._v("INSTANCE_DESTROY")]),t._v(" "),s("td",[t._v("◐")]),t._v(" "),s("td",[s("code",[t._v("$destroy")]),t._v(" 实例方法被移除 (在兼容模式下，只在根实例下支持)")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("GLOBAL_PRIVATE_UTIL")]),t._v(" "),s("td",[t._v("◐")]),t._v(" "),s("td",[s("code",[t._v("Vue.util")]),t._v(" 是私有的，且不再可用")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("CONFIG_PRODUCTION_TIP")]),t._v(" "),s("td",[t._v("◐")]),t._v(" "),s("td",[t._v("不再需要 "),s("code",[t._v("config.productionTip")])]),t._v(" "),s("td",[s("RouterLink",{attrs:{to:"/guide/migration/global-api.html#config-productiontip-移除"}},[t._v("链接")])],1)]),t._v(" "),s("tr",[s("td",[t._v("CONFIG_SILENT")]),t._v(" "),s("td",[t._v("◐")]),t._v(" "),s("td",[s("code",[t._v("config.silent")]),t._v(" 被移除")]),t._v(" "),s("td")])])]),t._v(" "),s("h3",{attrs:{id:"仅兼容-无告警"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#仅兼容-无告警"}},[t._v("#")]),t._v(" 仅兼容 (无告警)")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("ID")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("描述")]),t._v(" "),s("th",[t._v("文档")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("TRANSITION_CLASSES")]),t._v(" "),s("td",[t._v("⭘")]),t._v(" "),s("td",[t._v("过渡动画的进入/离开的 class 发生了变化")]),t._v(" "),s("td",[s("RouterLink",{attrs:{to:"/guide/migration/transition.html"}},[t._v("链接")])],1)])])]),t._v(" "),s("h3",{attrs:{id:"完全兼容"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#完全兼容"}},[t._v("#")]),t._v(" 完全兼容")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("ID")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("描述")]),t._v(" "),s("th",[t._v("文档")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("GLOBAL_MOUNT")]),t._v(" "),s("td",[t._v("✔")]),t._v(" "),s("td",[t._v("new Vue() -> createApp")]),t._v(" "),s("td",[s("RouterLink",{attrs:{to:"/guide/migration/global-api.html#挂载-app-实例"}},[t._v("链接")])],1)]),t._v(" "),s("tr",[s("td",[t._v("GLOBAL_EXTEND")]),t._v(" "),s("td",[t._v("✔")]),t._v(" "),s("td",[t._v("Vue.extend 被移除 (使用 "),s("code",[t._v("defineComponent")]),t._v(" 或 "),s("code",[t._v("extends")]),t._v(" 选项)")]),t._v(" "),s("td",[s("RouterLink",{attrs:{to:"/guide/migration/global-api.html#vue-extend-移除"}},[t._v("链接")])],1)]),t._v(" "),s("tr",[s("td",[t._v("GLOBAL_PROTOTYPE")]),t._v(" "),s("td",[t._v("✔")]),t._v(" "),s("td",[s("code",[t._v("Vue.prototype")]),t._v(" -> "),s("code",[t._v("app.config.globalProperties")])]),t._v(" "),s("td",[s("RouterLink",{attrs:{to:"/guide/migration/global-api.html#vue-prototype-替换为-config-globalproperties"}},[t._v("链接")])],1)]),t._v(" "),s("tr",[s("td",[t._v("GLOBAL_SET")]),t._v(" "),s("td",[t._v("✔")]),t._v(" "),s("td",[s("code",[t._v("Vue.set")]),t._v(" 被移除 (不再需要)")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("GLOBAL_DELETE")]),t._v(" "),s("td",[t._v("✔")]),t._v(" "),s("td",[s("code",[t._v("Vue.delete")]),t._v(" 被移除 (不再需要)")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("GLOBAL_OBSERVABLE")]),t._v(" "),s("td",[t._v("✔")]),t._v(" "),s("td",[s("code",[t._v("Vue.observable")]),t._v(" 被移除 (使用 "),s("code",[t._v("reactive")]),t._v(")")]),t._v(" "),s("td",[s("RouterLink",{attrs:{to:"/api/basic-reactivity.html"}},[t._v("链接")])],1)]),t._v(" "),s("tr",[s("td",[t._v("CONFIG_KEY_CODES")]),t._v(" "),s("td",[t._v("✔")]),t._v(" "),s("td",[t._v("config.keyCodes 被移除")]),t._v(" "),s("td",[s("RouterLink",{attrs:{to:"/guide/migration/keycode-modifiers.html"}},[t._v("链接")])],1)]),t._v(" "),s("tr",[s("td",[t._v("CONFIG_WHITESPACE")]),t._v(" "),s("td",[t._v("✔")]),t._v(" "),s("td",[t._v("在 Vue 3 中空格默认为 "),s("code",[t._v('"condense"')])]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("INSTANCE_SET")]),t._v(" "),s("td",[t._v("✔")]),t._v(" "),s("td",[s("code",[t._v("vm.$set")]),t._v(" 被移除 (不再需要)")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("INSTANCE_DELETE")]),t._v(" "),s("td",[t._v("✔")]),t._v(" "),s("td",[s("code",[t._v("vm.$delete")]),t._v(" 被移除 (不再需要)")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("INSTANCE_EVENT_EMITTER")]),t._v(" "),s("td",[t._v("✔")]),t._v(" "),s("td",[s("code",[t._v("vm.$on")]),t._v("、"),s("code",[t._v("vm.$off")]),t._v("、"),s("code",[t._v("vm.$once")]),t._v(" 被移除")]),t._v(" "),s("td",[s("RouterLink",{attrs:{to:"/guide/migration/events-api.html"}},[t._v("链接")])],1)]),t._v(" "),s("tr",[s("td",[t._v("INSTANCE_EVENT_HOOKS")]),t._v(" "),s("td",[t._v("✔")]),t._v(" "),s("td",[t._v("实例不再抛出 "),s("code",[t._v("hook:x")]),t._v(" 事件")]),t._v(" "),s("td",[s("RouterLink",{attrs:{to:"/guide/migration/vnode-lifecycle-events.html"}},[t._v("链接")])],1)]),t._v(" "),s("tr",[s("td",[t._v("INSTANCE_CHILDREN")]),t._v(" "),s("td",[t._v("✔")]),t._v(" "),s("td",[s("code",[t._v("vm.$children")]),t._v(" 被移除")]),t._v(" "),s("td",[s("RouterLink",{attrs:{to:"/guide/migration/children.html"}},[t._v("链接")])],1)]),t._v(" "),s("tr",[s("td",[t._v("INSTANCE_LISTENERS")]),t._v(" "),s("td",[t._v("✔")]),t._v(" "),s("td",[s("code",[t._v("vm.$listeners")]),t._v(" 被移除")]),t._v(" "),s("td",[s("RouterLink",{attrs:{to:"/guide/migration/listeners-removed.html"}},[t._v("链接")])],1)]),t._v(" "),s("tr",[s("td",[t._v("INSTANCE_SCOPED_SLOTS")]),t._v(" "),s("td",[t._v("✔")]),t._v(" "),s("td",[s("code",[t._v("vm.$scopedSlots")]),t._v(" 被移除；"),s("code",[t._v("vm.$slots")]),t._v(" 现在暴露函数")]),t._v(" "),s("td",[s("RouterLink",{attrs:{to:"/guide/migration/slots-unification.html"}},[t._v("链接")])],1)]),t._v(" "),s("tr",[s("td",[t._v("INSTANCE_ATTRS_CLASS_STYLE")]),t._v(" "),s("td",[t._v("✔")]),t._v(" "),s("td",[s("code",[t._v("$attrs")]),t._v(" 现在包含了 "),s("code",[t._v("class")]),t._v(" 和 "),s("code",[t._v("style")])]),t._v(" "),s("td",[s("RouterLink",{attrs:{to:"/guide/migration/attrs-includes-class-style.html"}},[t._v("链接")])],1)]),t._v(" "),s("tr",[s("td",[t._v("OPTIONS_DATA_FN")]),t._v(" "),s("td",[t._v("✔")]),t._v(" "),s("td",[s("code",[t._v("data")]),t._v(" 在所有情况下都必须是一个函数")]),t._v(" "),s("td",[s("RouterLink",{attrs:{to:"/guide/migration/data-option.html"}},[t._v("链接")])],1)]),t._v(" "),s("tr",[s("td",[t._v("OPTIONS_DATA_MERGE")]),t._v(" "),s("td",[t._v("✔")]),t._v(" "),s("td",[t._v("来自 mixin 或扩展的 "),s("code",[t._v("data")]),t._v(" 现在都是浅合并")]),t._v(" "),s("td",[s("RouterLink",{attrs:{to:"/guide/migration/data-option.html"}},[t._v("链接")])],1)]),t._v(" "),s("tr",[s("td",[t._v("OPTIONS_BEFORE_DESTROY")]),t._v(" "),s("td",[t._v("✔")]),t._v(" "),s("td",[s("code",[t._v("beforeDestroy")]),t._v(" -> "),s("code",[t._v("beforeUnmount")])]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("OPTIONS_DESTROYED")]),t._v(" "),s("td",[t._v("✔")]),t._v(" "),s("td",[s("code",[t._v("destroyed")]),t._v(" -> "),s("code",[t._v("unmounted")])]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("WATCH_ARRAY")]),t._v(" "),s("td",[t._v("✔")]),t._v(" "),s("td",[t._v("对于一个数组的操作，侦听无法被触发了，除非使用了深度侦听")]),t._v(" "),s("td",[s("RouterLink",{attrs:{to:"/guide/migration/watch.html"}},[t._v("链接")])],1)]),t._v(" "),s("tr",[s("td",[t._v("V_FOR_REF")]),t._v(" "),s("td",[t._v("✔")]),t._v(" "),s("td",[s("code",[t._v("v-for")]),t._v(" 内的 "),s("code",[t._v("ref")]),t._v(" 不再注册 ref 数组")]),t._v(" "),s("td",[s("RouterLink",{attrs:{to:"/guide/migration/array-refs.html"}},[t._v("链接")])],1)]),t._v(" "),s("tr",[s("td",[t._v("V_ON_KEYCODE_MODIFIER")]),t._v(" "),s("td",[t._v("✔")]),t._v(" "),s("td",[s("code",[t._v("v-on")]),t._v(" 不再支持 keyCode 修饰符")]),t._v(" "),s("td",[s("RouterLink",{attrs:{to:"/guide/migration/keycode-modifiers.html"}},[t._v("链接")])],1)]),t._v(" "),s("tr",[s("td",[t._v("CUSTOM_DIR")]),t._v(" "),s("td",[t._v("✔")]),t._v(" "),s("td",[t._v("自定义指令钩子命名变化")]),t._v(" "),s("td",[s("RouterLink",{attrs:{to:"/guide/migration/custom-directives.html"}},[t._v("链接")])],1)]),t._v(" "),s("tr",[s("td",[t._v("ATTR_FALSE_VALUE")]),t._v(" "),s("td",[t._v("✔")]),t._v(" "),s("td",[t._v("attribute 的绑定值为布尔值 "),s("code",[t._v("false")]),t._v(" 时不再将其移除")]),t._v(" "),s("td",[s("RouterLink",{attrs:{to:"/guide/migration/attribute-coercion.html"}},[t._v("链接")])],1)]),t._v(" "),s("tr",[s("td",[t._v("ATTR_ENUMERATED_COERCION")]),t._v(" "),s("td",[t._v("✔")]),t._v(" "),s("td",[t._v("不再特殊处理枚举类型 attribute")]),t._v(" "),s("td",[s("RouterLink",{attrs:{to:"/guide/migration/attribute-coercion.html"}},[t._v("链接")])],1)]),t._v(" "),s("tr",[s("td",[t._v("TRANSITION_GROUP_ROOT")]),t._v(" "),s("td",[t._v("✔")]),t._v(" "),s("td",[s("code",[t._v("<transition-group>")]),t._v(" 不再默认渲染一个根元素")]),t._v(" "),s("td",[s("RouterLink",{attrs:{to:"/guide/migration/transition-group.html"}},[t._v("链接")])],1)]),t._v(" "),s("tr",[s("td",[t._v("COMPONENT_ASYNC")]),t._v(" "),s("td",[t._v("✔")]),t._v(" "),s("td",[t._v("异步组件 API 改变 (现在需要 "),s("code",[t._v("defineAsyncComponent")]),t._v(")")]),t._v(" "),s("td",[s("RouterLink",{attrs:{to:"/guide/migration/async-components.html"}},[t._v("链接")])],1)]),t._v(" "),s("tr",[s("td",[t._v("COMPONENT_FUNCTIONAL")]),t._v(" "),s("td",[t._v("✔")]),t._v(" "),s("td",[t._v("函数式组件 API 改变 (现在必须只是一个普通函数)")]),t._v(" "),s("td",[s("RouterLink",{attrs:{to:"/guide/migration/functional-components.html"}},[t._v("链接")])],1)]),t._v(" "),s("tr",[s("td",[t._v("COMPONENT_V_MODEL")]),t._v(" "),s("td",[t._v("✔")]),t._v(" "),s("td",[t._v("组件的 v-model 修改")]),t._v(" "),s("td",[s("RouterLink",{attrs:{to:"/guide/migration/v-model.html"}},[t._v("链接")])],1)]),t._v(" "),s("tr",[s("td",[t._v("RENDER_FUNCTION")]),t._v(" "),s("td",[t._v("✔")]),t._v(" "),s("td",[t._v("渲染函数 API 更改")]),t._v(" "),s("td",[s("RouterLink",{attrs:{to:"/guide/migration/render-function-api.html"}},[t._v("链接")])],1)]),t._v(" "),s("tr",[s("td",[t._v("FILTERS")]),t._v(" "),s("td",[t._v("✔")]),t._v(" "),s("td",[t._v("过滤器被移除 (该选项只会影响运行时的过滤器 API)")]),t._v(" "),s("td",[s("RouterLink",{attrs:{to:"/guide/migration/filters.html"}},[t._v("链接")])],1)]),t._v(" "),s("tr",[s("td",[t._v("COMPILER_IS_ON_ELEMENT")]),t._v(" "),s("td",[t._v("✔")]),t._v(" "),s("td",[s("code",[t._v("is")]),t._v(" 的使用现在被严格限制在 "),s("code",[t._v("<component>")]),t._v(" 上")]),t._v(" "),s("td",[s("RouterLink",{attrs:{to:"/guide/migration/custom-elements-interop.html"}},[t._v("链接")])],1)]),t._v(" "),s("tr",[s("td",[t._v("COMPILER_V_BIND_SYNC")]),t._v(" "),s("td",[t._v("✔")]),t._v(" "),s("td",[s("code",[t._v("v-bind.sync")]),t._v(" 被替换为带参数的 "),s("code",[t._v("v-model")])]),t._v(" "),s("td",[s("RouterLink",{attrs:{to:"/guide/migration/v-model.html"}},[t._v("链接")])],1)]),t._v(" "),s("tr",[s("td",[t._v("COMPILER_V_BIND_PROP")]),t._v(" "),s("td",[t._v("✔")]),t._v(" "),s("td",[s("code",[t._v("v-bind.prop")]),t._v(" 修饰符被移除")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("COMPILER_V_BIND_OBJECT_ORDER")]),t._v(" "),s("td",[t._v("✔")]),t._v(" "),s("td",[s("code",[t._v('v-bind="object"')]),t._v(" 现在是顺序敏感的")]),t._v(" "),s("td",[s("RouterLink",{attrs:{to:"/guide/migration/v-bind.html"}},[t._v("链接")])],1)]),t._v(" "),s("tr",[s("td",[t._v("COMPILER_V_ON_NATIVE")]),t._v(" "),s("td",[t._v("✔")]),t._v(" "),s("td",[s("code",[t._v("v-on.native")]),t._v(" 修饰符被移除")]),t._v(" "),s("td",[s("RouterLink",{attrs:{to:"/guide/migration/v-on-native-modifier-removed.html"}},[t._v("链接")])],1)]),t._v(" "),s("tr",[s("td",[t._v("COMPILER_V_FOR_REF")]),t._v(" "),s("td",[t._v("✔")]),t._v(" "),s("td",[s("code",[t._v("v-for")]),t._v(" 中的 "),s("code",[t._v("ref")]),t._v(" (编译器支持))")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("COMPILER_NATIVE_TEMPLATE")]),t._v(" "),s("td",[t._v("✔")]),t._v(" "),s("td",[t._v("没有特殊指令的 "),s("code",[t._v("<template>")]),t._v(" 现在会被渲染为原生元素")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("COMPILER_FILTERS")]),t._v(" "),s("td",[t._v("✔")]),t._v(" "),s("td",[t._v("过滤器 (编译器支持)")]),t._v(" "),s("td")])])])])}),[],!1,null,null,null);e.default=r.exports}}]);